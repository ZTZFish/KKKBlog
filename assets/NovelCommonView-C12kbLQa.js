import{K as b,r as h,d as B,c,N as L,l as Q,a as s,b as l,s as y,e as o,F as f,j as g,v as a,n as K,_ as w}from"./index-es9QLVd9.js";const N="/KKKBlog/assets/TODG-C6W0yiAk.png",S=b("TOGD",()=>{const i=()=>"/KKKBlog/";return{togd:h({id:1,title:"The Game Of Death",tag:["微恐","血腥","烂作"],time:"2022",status:"已完结",intro:"当时写完感觉还行，隔了三年后再看简直就是一坨，狗屁不通。",postUrl:N,chapters:[{id:1,title:"第一章",contentUrl:`${i()}novels/TOGD/contents/第一章.txt`},{id:2,title:"第二章",contentUrl:`${i()}novels/TOGD/contents/第二章.txt`},{id:3,title:"第三章",contentUrl:`${i()}novels/TOGD/contents/第三章.txt`},{id:4,title:"第四章",contentUrl:`${i()}novels/TOGD/contents/第四章.txt`},{id:5,title:"第五章",contentUrl:`${i()}novels/TOGD/contents/第五章.txt`},{id:6,title:"第六章",contentUrl:`${i()}novels/TOGD/contents/第六章.txt`},{id:7,title:"第七章",contentUrl:`${i()}novels/TOGD/contents/第七章.txt`}],extra:[]})}}),V="/KKKBlog/assets/QMZM-B4MtZVK2.png",v=()=>"/KKKBlog/",z=b("QMZM",()=>({qmzm:h({id:2,title:"晴梅泽马",tag:["校园","青春","青梅竹马"],time:"2023",status:"重置筹备中",intro:"青梅竹马才是最屌的！",postUrl:V,chapters:[{id:1,title:"第一章",contentUrl:`${v()}novels/QMZM/contents/第一章.txt`},{id:2,title:"第二章",contentUrl:`${v()}novels/QMZM/contents/第二章.txt`},{id:3,title:"第三章",contentUrl:`${v()}novels/QMZM/contents/第三章.txt`},{id:4,title:"第四章",contentUrl:`${v()}novels/QMZM/contents/第四章.txt`}],extra:[{id:1,title:"第一次约会",contentUrl:`${v()}novels/QMZM/extra/第一次约会.txt`},{id:2,title:"跨年夜",contentUrl:`${v()}novels/QMZM/extra/跨年夜.txt`}]})})),q={class:"novel-common-view"},E={key:0},I={class:"novel-container"},P=["onClick"],j={class:"novel-cover"},F=["src"],A={class:"info"},H={class:"novel-title"},R={class:"novel-info"},W={class:"tags"},J={class:"meta"},X={class:"intro"},Y={key:1},tt={class:"menu"},et={key:0},nt=["onClick"],ot={key:1},st=["onClick"],lt={key:2},it={class:"chapter-content"},rt={key:0,class:"content"},at=B({name:"NovelCommonView",__name:"NovelCommonView",setup(i){const k=S(),T=z(),_=L(),$=h(""),U=h(""),d=h("chapterList"),C=[k.togd,T.qmzm],m=c(()=>_.meta.type),M=c(()=>_.params.novelTitle),p=c(()=>_.params.chapterTitle),r=c(()=>{if(M.value)return C.find(e=>e.title===M.value)}),G=c(()=>{if(!(!r.value||!p.value))return r.value.chapters.find(e=>e.title===p.value)}),O=c(()=>{if(!(!r.value||!p.value))return r.value.extra.find(e=>e.title===p.value)}),x=async e=>{U.value="",$.value="";try{const n=await fetch(e);if(console.log(n),!n.ok)throw new Error(`HTTP error! status: ${n.status}`);const t=await n.text();$.value=t}catch(n){console.error("加载章节内容失败:",n),U.value="加载章节内容失败，请稍后重试"}finally{}};Q([G,O],([e,n])=>{e&&m.value==="chapterDetail"&&x(e.contentUrl),n&&m.value==="chapterDetail"&&x(n.contentUrl)},{immediate:!0});const D=c(()=>$.value?$.value.split(`
`).filter(e=>e.trim()).map(e=>e.trim()):[]);return(e,n)=>(l(),s("div",q,[m.value==="novelList"?(l(),s("div",E,[n[4]||(n[4]=o("h2",null,"小说列表",-1)),o("div",I,[(l(),s(f,null,g(C,t=>o("div",{key:t.id,onClick:u=>e.$router.push({name:"chapterList",params:{novelTitle:t.title}}),class:"novel-item"},[o("div",j,[o("img",{src:t.postUrl,alt:"小说封面"},null,8,F)]),o("div",A,[o("div",H,a(t.title),1),o("div",R,[o("div",W,a(t.tag.join("、")),1),o("div",J,a(t.time)+" | "+a(t.status),1),o("div",X,a(t.intro),1)])])],8,P)),64))])])):m.value==="chapterList"&&r.value?(l(),s("div",Y,[o("h2",null,a(r.value.title)+" - 章节列表",1),o("button",{onClick:n[0]||(n[0]=t=>e.$router.push({name:"novel"}))},"返回小说列表"),o("div",tt,[o("div",{class:K(["menu-item",{active:d.value==="chapterList"}]),onClick:n[1]||(n[1]=t=>d.value="chapterList")}," 正文 ",2),o("div",{class:K(["menu-item",{active:d.value==="extraList"}]),onClick:n[2]||(n[2]=t=>d.value="extraList")}," 番外 ",2)]),d.value==="chapterList"?(l(),s("ul",et,[(l(!0),s(f,null,g(r.value.chapters,(t,u)=>(l(),s("li",{key:u,onClick:Z=>e.$router.push({name:"chapter",params:{novelTitle:r.value.title,chapterTitle:t.title}})},a(t.title),9,nt))),128))])):(l(),s("ul",ot,[(l(!0),s(f,null,g(r.value.extra,(t,u)=>(l(),s("li",{key:u,onClick:Z=>e.$router.push({name:"chapter",params:{novelTitle:r.value.title,chapterTitle:t.title}})},a(t.title),9,st))),128))]))])):m.value==="chapterDetail"?(l(),s("div",lt,[o("h2",null,a(p.value),1),o("button",{onClick:n[3]||(n[3]=t=>e.$router.go(-1))},"返回章节列表"),o("div",it,[D.value.length?(l(),s("div",rt,[(l(!0),s(f,null,g(D.value,(t,u)=>(l(),s("p",{key:u},a(t),1))),128))])):y("",!0)])])):y("",!0)]))}}),ut=w(at,[["__scopeId","data-v-76fb3e35"]]);export{ut as default};
